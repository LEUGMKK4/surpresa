<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Festa 13 anos ‚Äî Convite</title>
<style>
  :root{
    --accent:#ff3b6b;
    --accent-2:#2bd0ff;
    --bg:#bfe9ff;
    --card:#ffffffcc;
    --glass: rgba(255,255,255,0.08);
    --shadow: 0 8px 30px rgba(0,0,0,0.15);
    font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  }
  *{box-sizing:border-box}
  body{
    margin:0;background:linear-gradient(180deg,var(--bg),#9bd8ff 40%, #f2f9ff 100%);
    color:#111;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  .wrap{width:100%;max-width:980px;background:radial-gradient(1200px 400px at 10% 10%, rgba(255,255,255,0.6), transparent),linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.4));border-radius:18px;padding:28px;box-shadow:var(--shadow);position:relative;overflow:hidden}
  header{display:flex;gap:18px;align-items:center}
  .title{flex:1}
  h1{margin:0;font-size:28px;letter-spacing:0.6px;color:#06305b}
  p.lead{margin:6px 0 0;font-size:14px;color:#0b3b5a}
  .grid{display:grid;grid-template-columns:360px 1fr;gap:20px;margin-top:20px}
  .card{background:var(--card);border-radius:14px;padding:14px;box-shadow:0 6px 18px rgba(0,0,0,0.06);}
  .photo-wrap{position:relative;height:360px;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#c4f0ff,#ffe6f0)}
  .photo-wrap img{max-width:95%;max-height:92%;border-radius:8px;transform:translateY(2px)}
  #confetti{position:absolute;inset:0;pointer-events:none}
  .info{display:flex;flex-direction:column;gap:12px}
  .when{display:flex;gap:10px;align-items:center}
  .pill{background:var(--glass);padding:10px;border-radius:10px;display:inline-flex;align-items:center;gap:8px;font-weight:600}
  .countdown{display:flex;gap:8px}
  .countdown .unit{background:#fff;padding:12px 14px;border-radius:10px;min-width:70px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.06)}
  .unit .num{font-size:20px;font-weight:700;color:#06305b}
  .unit .label{font-size:12px;color:#6b7b8a}
  .actions{display:flex;gap:10px;margin-top:8px;flex-wrap:wrap}
  .btn{border:0;padding:10px 12px;border-radius:10px;font-weight:700;cursor:pointer;flex-shrink:0}
  .btn.primary{background:linear-gradient(90deg,var(--accent),#ff9a9a);color:white}
  .btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06)}
  .map{margin-top:10px;font-size:13px;color:#16314a}
  .map a{color:var(--accent);font-weight:700;text-decoration:none}
  footer{display:flex;justify-content:space-between;align-items:center;margin-top:16px;flex-wrap:wrap}
  
  /* Bal√µes originais */
  .balloon{
    position:absolute;
    border-radius:40px;
    opacity:0.9;
    transform-origin:center bottom;
    transition: all 0.3s ease;
  }
  .balloon.one{
    left:8%;top:8%;
    width:70px;height:90px;
    background:radial-gradient(circle at 30% 20%, #ffd1de,#ff6b9a);
  }
  .balloon.two{
    right:6%;top:10%;
    width:86px;height:110px;
    background:radial-gradient(circle at 30% 20%, #c8f7ff,#00b2ff);
  }
  .balloon.three{
    left:16%;bottom:12%;
    width:70px;height:90px;
    background:radial-gradient(circle at 30% 20%, #fff1b8,#ffd000);
  }

  @media (max-width:880px){
    .grid{grid-template-columns:1fr;}
    .photo-wrap{height:260px}

    /* Ajustes para bal√µes no mobile: menores, mais transparentes e reposicionados */
    .balloon.one{
      width:40px; height:52px;
      left:5%; top:5%;
      opacity:0.35;
    }
    .balloon.two{
      width:50px; height:64px;
      right:5%; top:5%;
      opacity:0.35;
    }
    .balloon.three{
      width:40px; height:52px;
      left:10%; bottom:5%;
      opacity:0.35;
    }
  }

  .rsvp-list{max-height:140px;overflow:auto;padding:6px;border-radius:10px;background:linear-gradient(180deg, #ffffff, #fbfbff)}
  .rsvp-item{padding:8px;border-bottom:1px dashed #eee;font-size:14px;display:flex;justify-content:space-between;align-items:center}
  .rsvp-item button.remove-btn{background:none;border:none;color:#ff3b6b;font-weight:700;cursor:pointer;padding:0 6px;font-size:14px;border-radius:6px;transition:background 0.2s ease}
  .rsvp-item button.remove-btn:hover{background:#ff3b6b;color:#fff;}
  .share{display:flex;gap:8px;flex-wrap:wrap}
  .share button{padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:white;cursor:pointer}
  .small{font-size:12px;color:#5b6b7b}
</style>
</head>
<body>
  <div class="wrap">
    <canvas id="confetti"></canvas>
    <div class="balloon one"></div>
    <div class="balloon two"></div>
    <div class="balloon three"></div>

    <header>
      <div class="title">
        <h1>Venha festejar comigo ‚Äî 13 anos!</h1>
        <p class="lead">16/08/2025 ‚Äî 16:00 ‚Ä¢ Rua Professor Severiano Tolentino, 655, Prazeres/Jaboat√£o dos Guararapes (Pr√≥x. FG)</p>
      </div>
      <div style="text-align:right">
        <div class="pill">Convite oficial üéâ</div>
      </div>
    </header>

    <div class="grid">
      <div class="card photo-wrap">
        <img id="photo" src="foto.jpg" alt="Aniversariante" />
      </div>

      <div class="card info">
        <div>
          <div class="when">
            <div class="pill">üìÖ 16/08/2025</div>
            <div class="pill">‚è∞ 16:00</div>
          </div>

          <div class="countdown" style="margin-top:12px">
            <div class="unit"><div class="num" id="days">--</div><div class="label">Dias</div></div>
            <div class="unit"><div class="num" id="hours">--</div><div class="label">Horas</div></div>
            <div class="unit"><div class="num" id="minutes">--</div><div class="label">Min</div></div>
            <div class="unit"><div class="num" id="seconds">--</div><div class="label">Seg</div></div>
          </div>

          <div class="actions">
            <button class="btn primary" id="rsvpBtn">Confirmar presen√ßa</button>
            <button class="btn ghost" id="mapBtn">Abrir no Maps</button>
            <button class="btn ghost" id="shareBtn">Compartilhar</button>
          </div>

          <div class="map small">
            Rua Professor Severiano Tolentino, 655 ‚Äî Prazeres / Jaboat√£o dos Guararapes.<br>
            <a id="mapsLink" href="#" target="_blank">Abrir no Google Maps ¬ª</a>
          </div>
        </div>

        <div style="margin-top:10px">
          <h3 style="margin:0 0 8px 0">Lista de convidados</h3>
          <div class="rsvp-list" id="rsvpList">
            <div class="small">Nenhuma confirma√ß√£o ainda ‚Äî seja o primeiro!</div>
          </div>
        </div>

        <div style="margin-top:10px">
          <h3 style="margin:0 0 8px 0">M√∫sicas e ambiente</h3>
          <div class="small">Toque para ligar m√∫sica ambiente e anima√ß√µes.</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
            <button class="btn ghost" id="musicToggle">‚ñ∂Ô∏è M√∫sica</button>
            <button class="btn ghost" id="confettiToggle">üéâ Confete</button>
          </div>
        </div>

        <footer>
          <div class="small">Compartilhe o convite com os amigos!</div>
          <div class="share">
            <button id="copyLink">üîó Copiar link</button>
            <button id="downloadPNG">üì∏ Baixar imagem</button>
          </div>
        </footer>
      </div>
    </div>

    <audio id="music" src="oi.mp3" loop></audio>
  </div>

<script>
  // Countdown
  const target = new Date('2025-08-16T16:00:00');
  function updateCountdown(){
    const now = new Date();
    let diff = Math.max(0, target - now);
    const days = Math.floor(diff / (1000*60*60*24));
    diff -= days*(1000*60*60*24);
    const hours = Math.floor(diff/(1000*60*60));
    diff -= hours*(1000*60*60);
    const minutes = Math.floor(diff/(1000*60));
    diff -= minutes*(1000*60);
    const seconds = Math.floor(diff/1000);
    document.getElementById('days').textContent = String(days).padStart(2,'0');
    document.getElementById('hours').textContent = String(hours).padStart(2,'0');
    document.getElementById('minutes').textContent = String(minutes).padStart(2,'0');
    document.getElementById('seconds').textContent = String(seconds).padStart(2,'0');
  }
  updateCountdown();
  setInterval(updateCountdown,1000);

  // Google Maps
  const address = "Rua Professor Severiano Tolentino, 655, Prazeres, Jaboat√£o dos Guararapes, PE";
  const mapsHref = 'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(address);
  document.getElementById('mapsLink').href = mapsHref;
  document.getElementById('mapBtn').addEventListener('click', ()=> window.open(mapsHref, '_blank'));

  // RSVP localStorage
  const rsvpBtn = document.getElementById('rsvpBtn');
  const rsvpList = document.getElementById('rsvpList');
  const rsvpStorageKey = 'festa13_rsvp';

  function loadRsvp(){
    const saved = JSON.parse(localStorage.getItem(rsvpStorageKey) || '[]');
    if(saved.length){
      rsvpList.innerHTML = '';
      saved.forEach(name => {
        addRsvpItem(name);
      });
    }
  }
  loadRsvp();

  function addRsvpItem(name){
    const item = document.createElement('div');
    item.className = 'rsvp-item';
    item.textContent = name + ' ‚Äî Confirmado';

    // Bot√£o remover
    const btnRemove = document.createElement('button');
    btnRemove.className = 'remove-btn';
    btnRemove.textContent = 'Remover';
    btnRemove.title = 'Remover presen√ßa';
    btnRemove.addEventListener('click', () => {
      if(confirm(`Remover ${name} da lista de convidados?`)){
        removeRsvp(name);
      }
    });

    item.appendChild(btnRemove);
    rsvpList.appendChild(item);
  }

  function removeRsvp(name){
    let saved = JSON.parse(localStorage.getItem(rsvpStorageKey) || '[]');
    saved = saved.filter(n => n !== name);
    localStorage.setItem(rsvpStorageKey, JSON.stringify(saved));
    renderRsvpList();
  }

  function renderRsvpList(){
    const saved = JSON.parse(localStorage.getItem(rsvpStorageKey) || '[]');
    rsvpList.innerHTML = '';
    if(saved.length === 0){
      rsvpList.innerHTML = '<div class="small">Nenhuma confirma√ß√£o ainda ‚Äî seja o primeiro!</div>';
    } else {
      saved.forEach(name => addRsvpItem(name));
    }
  }

  rsvpBtn.addEventListener('click', () => {
    const name = prompt('Qual seu nome para confirmar presen√ßa?');
    if(!name) return;

    let saved = JSON.parse(localStorage.getItem(rsvpStorageKey) || '[]');
    if(saved.includes(name)){
      alert('Voc√™ j√° confirmou presen√ßa!');
      return;
    }
    saved.push(name);
    localStorage.setItem(rsvpStorageKey, JSON.stringify(saved));
    renderRsvpList();
    launchConfetti(40);
  });

  // Compartilhar e copiar link
  document.getElementById('shareBtn').addEventListener('click', ()=>{
    if(navigator.share){
      navigator.share({
        title:'Convite - 16/08/2025',
        text:'Venha pro meu anivers√°rio! 16/08 √†s 16h',
        url:location.href
      }).catch(()=>{});
    } else {
      alert('Seu navegador n√£o suporta compartilhamento direto. Use Copiar link.');
    }
  });
  document.getElementById('copyLink').addEventListener('click', ()=>{
    navigator.clipboard.writeText(location.href).then(()=>alert('Link copiado!'));
  });

  // Confetti
  const confettiCanvas = document.getElementById('confetti');
  const ctx = confettiCanvas.getContext('2d');
  let W, H, particles = [];

  function resize(){
    W = confettiCanvas.width = document.querySelector('.wrap').clientWidth;
    H = confettiCanvas.height = document.querySelector('.wrap').clientHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  function rand(min,max){return Math.random()*(max-min)+min}
  function createParticle(x,y){
    return {
      x, y,
      vx: rand(-3,3),
      vy: rand(-7,-2),
      r: rand(6,12),
      color: ['#ff6b9a','#ffd166','#2bd0ff','#b39cff'][Math.floor(Math.random()*4)],
      rot: rand(0,Math.PI*2),
      vr: rand(-0.2,0.2)
    };
  }

  function launchConfetti(n=80){
    for(let i=0; i<n; i++){
      particles.push(createParticle(rand(20,W-20), rand(20,80)));
    }
  }

  function update(){
    ctx.clearRect(0,0,W,H);
    for(let i=particles.length-1; i>=0; i--){
      const p = particles[i];
      p.vy += 0.2; p.x += p.vx; p.y += p.vy; p.rot += p.vr;
      ctx.save();
      ctx.translate(p.x,p.y);
      ctx.rotate(p.rot);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*0.6);
      ctx.restore();
      if(p.y > H+30 || p.x < -50 || p.x > W+50) particles.splice(i,1);
    }
    requestAnimationFrame(update);
  }
  update();

  document.getElementById('confettiToggle').addEventListener('click', ()=> launchConfetti(150));
  setTimeout(()=>launchConfetti(70),800);

  // M√∫sica ambiente
  const music = document.getElementById('music');
  const musicToggle = document.getElementById('musicToggle');

  musicToggle.addEventListener('click', () => {
    if(music.paused){
      music.play().then(() => {
        musicToggle.textContent = '‚è∏Ô∏è Pausar m√∫sica';
      }).catch((err) => {
        alert('N√£o foi poss√≠vel tocar a m√∫sica. Tente clicar novamente.');
        console.error(err);
      });
    } else {
      music.pause();
      musicToggle.textContent = '‚ñ∂Ô∏è M√∫sica';
    }
  });

  // Download PNG (alerta)
  document.getElementById('downloadPNG').addEventListener('click', async ()=>{
    alert('Para baixar como imagem com qualidade, abra o menu do navegador e escolha "Salvar como PDF" ou use uma extens√£o de screenshot.');
  });

  // Ajuste para file://
  if(location.protocol === 'file:'){
    document.getElementById('mapsLink').href = mapsHref;
  }
</script>
</body>
</html>
